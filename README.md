# Автоматизация генерации иллюстраций к произведениям

Данное ПО позволяет сгенерировать иллюстрации к введенному тексту.

Высокоуровнево принцип работы можно описать так:
1. Делим текст на отрывки
2. Для каждого отрывка генерируем промпт - краткий текст, описывающий суть происходящего
3. По промпту генерируем иллюстрацию

Можно настраивать следующие параметры:
1. Number of illustrations - количество иллюстраций

2. Prompt generating method - алгоритм генерации промпта:
- Summary - с помощью нейронки получаем саммари текста
- ChatGPT - с помощью чатгпт генерируем промпт для генерации изображения
- Grammar parsing - синтаксический разбор - с помощью чатгпт определяем подлежащее, сказуемое и обстоятельство места для одного из предложений отрывка, используем их в качестве промпта (работает не оч, лучше не использовать)

3. Generator type - модель для генерации изображения:
- Stable Diffusion v1.4
- Stable Diffusion v2.1
- Stable Diffusion with latents inheritance - модель, которая при генерации иллюстрации учитывает ранее сгенерированные картинки

4. Guidance scale - “насколько точно модель должна следовать промпту”. Нормальные значения - от 7.5 до 9. Если выше, то картинки будут нечеткими.

5. Number of denoising iterations - количество итераций денойзинга для генерации изображения. Нормальные значения - от 30 до 70.


Для использования чатгпт нужно получить openai токен и экспортнуть его в OPENAI_KEY.
Запускать нужно на компе с ГПУ, иначе картинки будут долго генерироваться